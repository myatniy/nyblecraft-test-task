(this["webpackJsonpnyblecraft-test-task"]=this["webpackJsonpnyblecraft-test-task"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n(1),i=n(7),a=n.n(i),o=n(3),r=n(2),l=n(8),u=function(t){var e=t.id,n=t.note,i=t.tags,a=t.isFiltered,o=t.onDeleted,l=t.onDeletedTag,u=t.onEdited,d=Object(s.useState)(!1),j=Object(r.a)(d,2),b=j[0],f=j[1],h=Object(s.useState)(""),O=Object(r.a)(h,2),x=O[0],g=O[1],v=[];i.forEach((function(t){return v.push(Object(c.jsxs)("div",{className:"list-of-notes__tag-and-button",children:[Object(c.jsx)("span",{children:t}),Object(c.jsx)("hr",{className:"vertical-line"}),Object(c.jsx)("button",{onClick:l,value:t,children:"X"})]}))}));var p=v.length>0?Object(c.jsx)("div",{className:"list-of-notes__note-tags-container",children:v}):null;if(!1===a&&!1===b)return Object(c.jsxs)("li",{className:"list-of-notes__note",children:[Object(c.jsxs)("div",{className:"list-of-notes__buttons-container",children:[Object(c.jsx)("button",{onClick:function(){return f(!0)},children:"edit"}),Object(c.jsx)("button",{onClick:o,children:"X"})]}),Object(c.jsx)("p",{className:"list-of-notes__note-text",children:n}),Object(c.jsx)("hr",{}),p]});if(!1===a&&!0===b)return Object(c.jsx)("li",{className:"list-of-notes__note",children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u(e,x),g(""),f(!1)},children:[Object(c.jsx)("textarea",{placeholder:"Type in new text here",value:x,onChange:function(t){g(t.target.value)}}),Object(c.jsxs)("div",{className:"list-of-notes__note-edit-mode-buttons",children:[Object(c.jsx)("input",{className:"btn",type:"submit",value:"Save"}),Object(c.jsx)("button",{className:"btn",onClick:function(){return f(!1)},children:"Cancel"})]})]})});if(a){var m=[];return i.forEach((function(t){return m.push(Object(c.jsx)("span",{children:t}))})),Object(c.jsxs)("li",{className:"list-of-notes__note",children:[Object(c.jsx)("p",{className:"list-of-notes__note-text",children:n}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"list-of-notes__tagsWhenFiltered",children:m})]})}};var d=function(t){var e=t.notes,n=t.isFiltered,s=t.onDeleted,i=t.onDeletedTag,a=t.onEdited,o=e.map((function(t){var e=t.id,o=t.note,r=t.tags;return Object(c.jsx)(u,{id:e,note:o,tags:r,isFiltered:n,onDeleted:function(){return s(e)},onDeletedTag:function(t){return i(e,t)},onEdited:a},e)}));return Object(c.jsx)("ul",{className:"list-of-notes",children:o})};var j=function(t){var e=t.tags,n=t.isFiltered,s=t.onTagsFiltered,i=t.onFilterReset,a=[];return n?a.push(Object(c.jsx)("button",{onClick:function(){return i()},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})):e.forEach((function(t){return a.push(Object(c.jsx)("button",{value:t,onClick:function(){return s(t)},children:t}))})),Object(c.jsx)("div",{className:"tags-container",children:a})},b=[{id:0,note:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043e\u043a",tags:["#\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","#\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435"]},{id:1,note:"\u0424\u0438\u043b\u044c\u0442\u0440 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u043f\u043e \u0442\u0435\u0433\u0443",tags:[]},{id:2,note:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u043e\u0432 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",tags:[]},{id:3,note:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 json- \u0444\u0430\u0439\u043b\u0435",tags:["#\u0414\u0430\u043d\u043d\u044b\u0435"]},{id:4,note:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u0444\u0430\u0439\u043b\u0435",tags:["#\u0414\u0430\u043d\u043d\u044b\u0435","#\u0445\u0440\u0430\u043d\u0438\u0442\u044c"]},{id:5,note:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430",tags:["#\u041d\u043e\u0432\u0430\u044f"]}],f=function(t){var e=t.onAdded,n=t.isFiltered,i=Object(s.useState)(""),a=Object(r.a)(i,2),o=a[0],l=a[1];return n?null:Object(c.jsxs)("form",{className:"add-note-container",onSubmit:function(t){t.preventDefault(),o&&e(o),l("")},children:[Object(c.jsx)("input",{type:"text",placeholder:"new note",value:o,onChange:function(t){l(t.target.value)}}),Object(c.jsx)("button",{children:"+"})]})};function h(t){var e=t.match(/#\S*/gi);return e||[]}function O(t){return t.match(/[^#]/g).join("")}var x=function(){var t=Object(s.useState)(b),e=Object(r.a)(t,2),n=e[0],i=e[1],a=Object(s.useState)(!1),u=Object(r.a)(a,2),x=u[0],g=u[1],v=Object(s.useState)([]),p=Object(r.a)(v,2),m=p[0],_=p[1],N=new Set,F=Object(l.a)("0123456789",5);return n.forEach((function(t){return t.tags.forEach((function(t){return N.add(t)}))})),Object(s.useEffect)((function(){document.title="\u041a\u043e\u043b-\u0432\u043e \u0437\u0430\u043c\u0435\u0442\u043e\u043a: ".concat(n.length)})),Object(c.jsxs)("div",{className:"app-container",children:[Object(c.jsx)("h1",{children:"Todo Application"}),Object(c.jsx)(f,{onAdded:function(t){var e=Object(o.a)(n);e.push({id:parseInt(F()),note:O(t),tags:h(t)}),i(e)},isFiltered:x}),Object(c.jsx)(j,{tags:Object(o.a)(N),isFiltered:x,onTagsFiltered:function(t){_(n);var e=Object(o.a)(n),c=[],s=[];e.map((function(e){return c.push(e.tags.filter((function(e){return e===t})))}));for(var a=0;a<e.length;a++)c[a].length>0&&s.push(e[a]);g(!0),i(s)},onFilterReset:function(){i(m),g(!1)}}),Object(c.jsx)(d,{notes:n,isFiltered:x,onDeletedTag:function(t,e){e.preventDefault();var c=Object(o.a)(n),s=e.target.value,a=n.findIndex((function(e){return e.id===t}));c[a].tags=n[a].tags.filter((function(t){return t!==s})),i(c)},onDeleted:function(t){var e=n.findIndex((function(e){return e.id===t})),c=[].concat(Object(o.a)(n.slice(0,e)),Object(o.a)(n.slice(e+1)));i(c)},onEdited:function(t,e){var c=[];n.map((function(n){return t===n.id?c.push({id:t,note:O(e),tags:h(e)}):c.push(n)})),i(c)}})]})};n(14);a.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.297ee340.chunk.js.map