{"version":3,"sources":["components/todo-list-item.js","components/todo-list.js","components/tag-filter.js","data/notes-data.js","components/todo-list-add-note.js","components/app.js","index.js"],"names":["TodoListItem","id","note","tags","isFiltered","onDeleted","onDeletedTag","onEdited","useState","isEditing","setIsEditing","newTextOfNote","setNewTextOfNote","tagsFormatted","forEach","item","push","className","onClick","value","tagsFormattedWithConditionalRendering","length","onSubmit","e","preventDefault","placeholder","onChange","target","type","tagsFormattedWhenFiltered","TodoList","notes","map","TagFilter","onTagsFiltered","onFilterReset","tagsMapped","data","TodoListAddNote","onAdded","input","setInput","findHashtags","text","hashtags","match","ejectHashtagsFromText","join","App","setNotes","setIsFiltered","notesBeforeFilter","setNotesBeforeFilter","Set","nanoid","customAlphabet","add","useEffect","document","title","notesWithNewItem","parseInt","notesCopy","arrOfFilteredValues","filteredData","filter","i","hashtagToDelete","indexOfItemWithTagToDelete","findIndex","indexOfItemToDelete","notesWithoutDeletedItem","slice","newText","newNotesArray","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b2c13322.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nconst TodoListItem = ({ id, note, tags, isFiltered, onDeleted, onDeletedTag, onEdited }) => {\n    const [isEditing, setIsEditing] = useState(false);\n    const [newTextOfNote, setNewTextOfNote] = useState('');\n\n    const HandleChange = (e) => {\n        setNewTextOfNote(e.target.value);\n    }\n\n    const HandleSubmit = (e) => {\n        e.preventDefault();\n        onEdited(id, newTextOfNote);\n        setNewTextOfNote('');\n        setIsEditing(false);\n    }\n\n    const tagsFormatted = [];\n    tags.forEach(item => tagsFormatted.push(\n            <div className=\"list-of-notes__tag-and-button\">\n                <span>{ item }</span>\n                <hr className=\"vertical-line\" />\n                <button onClick={ onDeletedTag } value={ item }>X</button>\n            </div>\n        ));\n\n    const tagsFormattedWithConditionalRendering = (tagsFormatted.length > 0) ?\n            <div className=\"list-of-notes__note-tags-container\">\n                { tagsFormatted }\n            </div>\n        :\n            null;\n\n    if (isFiltered === false && isEditing === false) {\n        return (\n            <li className=\"list-of-notes__note\">\n                <div className=\"list-of-notes__buttons-container\">\n                    <button onClick={() => setIsEditing(true)}>edit</button>\n                    <button onClick={ onDeleted }>X</button>\n                </div>\n                <p className=\"list-of-notes__note-text\">{ note }</p>\n                <hr />\n                { tagsFormattedWithConditionalRendering }\n            </li>\n        );\n    }\n\n    if (isFiltered === false && isEditing === true) {\n        return (\n            <li className=\"list-of-notes__note\">\n                <form onSubmit={HandleSubmit}>\n                <textarea\n                    placeholder=\"Type in new text here\"\n                    value={newTextOfNote}\n                    onChange={HandleChange}\n                />\n                <div className=\"list-of-notes__note-edit-mode-buttons\">\n                    <input className=\"btn\" type=\"submit\" value=\"Save\"/>\n                    <button className=\"btn\" onClick={() => setIsEditing(false)}>Cancel</button>\n                </div>\n                </form>\n            </li>\n        );\n    }\n\n    if (isFiltered) {\n        const tagsFormattedWhenFiltered = [];\n        tags.forEach(item => tagsFormattedWhenFiltered.push(<span>{ item }</span>));\n\n        return (\n            <li className=\"list-of-notes__note\">\n                <p className=\"list-of-notes__note-text\">{ note }</p>\n                <hr />\n                <div className=\"list-of-notes__tagsWhenFiltered\">\n                    { tagsFormattedWhenFiltered }\n                </div>\n            </li>\n        );\n    }\n}\n\nexport default TodoListItem;","import React from 'react';\nimport TodoListItem from './todo-list-item';\n\nfunction TodoList ({ notes, isFiltered, onDeleted, onDeletedTag, onEdited }) {\n\n    const note = notes.map(\n            ({ id, note, tags }) => <TodoListItem\n                id={ id }\n                key={ id }\n                note={ note }\n                tags={ tags }\n                isFiltered={ isFiltered }\n                onDeleted= { () => onDeleted(id) }\n                onDeletedTag={ (e) => onDeletedTag(id, e) }\n                onEdited={ onEdited }\n            />\n        );\n\n    return (\n        <ul className=\"list-of-notes\">\n            { note }\n        </ul>\n    );\n}\n\nexport default TodoList;","import React from 'react';\n\nfunction TagFilter ({ tags, isFiltered, onTagsFiltered, onFilterReset }) {\n    const tagsMapped = [];\n\n    if (isFiltered) {\n        tagsMapped.push(\n            <button onClick={() => onFilterReset()}>Сбросить фильтр</button>\n        )\n    } else {\n        tags.forEach(item => tagsMapped.push(\n            <button value={item} onClick={() => onTagsFiltered(item)}>{item}</button>\n        ));\n    }\n\n    return <div className=\"tags-container\">{tagsMapped}</div>;\n}\n\nexport default TagFilter;","const data = [\n    {\n        id: 0,\n        note: \"Создание, редактирование, просмотр и удаление заметок\",\n        tags: [\"#редактирование\", \"#создание\"]\n    },\n    {\n        id: 1,\n        note: \"Фильтр заметок по тегу\",\n        tags: []\n    },\n    {\n        id: 2,\n        note: \"Добавление и удаление тегов из списка\",\n        tags: []\n    },\n    {\n        id: 3,\n        note: \"Данные хранить в json- файле\",\n        tags: [\"#Данные\"]\n    },\n    {\n        id: 4,\n        note: \"Данные хранить в файле\",\n        tags: [\"#Данные\", \"#хранить\"]\n    }\n];\n\nexport default data;","import React, { useState } from 'react';\n\nconst TodoListAddNote = ({ onAdded, isFiltered }) => {\n    const [input, setInput] = useState('');\n\n    const OnTextChanged = (e) => {\n        setInput(e.target.value);\n    }\n\n    const OnTextSubmitted = (e) => {\n        e.preventDefault();\n\n        if (input) onAdded(input);\n\n        setInput('');\n    }\n\n    if (isFiltered) {\n        return null;\n    }\n\n    return (\n        <form\n            className='add-note-container'\n            onSubmit={OnTextSubmitted}\n        >\n            <input\n                type=\"text\"\n                placeholder=\"new note\"\n                value={input}\n                onChange={OnTextChanged}\n            />\n            <button>+</button>\n        </form>\n    );\n}\n\nexport default TodoListAddNote;","import React, { useState, useEffect } from 'react';\nimport { customAlphabet } from \"nanoid\";\nimport TodoList from './todo-list';\nimport TagFilter from \"./tag-filter\";\nimport data from '../data/notes-data';\nimport TodoListAddNote from \"./todo-list-add-note\";\n\nfunction findHashtags (text) {\n    const regexHashtags = /#\\S*/ig;\n    const hashtags = text.match(regexHashtags);\n\n    return hashtags ? hashtags : [];\n}\n\nfunction ejectHashtagsFromText (text) {\n    const regexAvoidOnlyHashTags = /[^#]/g;\n\n    return text.match(regexAvoidOnlyHashTags).join('');\n}\n\nfunction App () {\n    const [notes, setNotes] = useState(data);\n    const [isFiltered, setIsFiltered] = useState(false);\n    const [notesBeforeFilter, setNotesBeforeFilter] = useState([]);\n\n    const tags = new Set();\n    // generate unique id\n    const nanoid = customAlphabet('0123456789', 5);\n    // fill the set with unique tag values from 'notes'\n    notes.forEach(item =>\n        item.tags.forEach(item => tags.add(item))\n    );\n\n    const AddNote = (text) => {\n        const notesWithNewItem = [...notes];\n\n        notesWithNewItem.push({\n            id: parseInt(nanoid()),\n            note: ejectHashtagsFromText(text),\n            tags: findHashtags(text)\n        });\n\n        setNotes(notesWithNewItem);\n    };\n\n    const EditNote = (id, newText) => {\n        const newNotesArray = [];\n\n        notes.map(item => {\n            if (id === item.id) {\n                return newNotesArray.push({\n                    id,\n                    note: ejectHashtagsFromText(newText),\n                    tags: findHashtags(newText)\n                });\n            }\n            return newNotesArray.push(item);\n        });\n\n        setNotes(newNotesArray);\n    };\n\n    const DeleteNote = (id) => {\n        const indexOfItemToDelete = notes.findIndex(item => item.id === id);\n        const notesWithoutDeletedItem = [\n            ...notes.slice(0, indexOfItemToDelete),\n            ...notes.slice(indexOfItemToDelete + 1)\n        ];\n\n        setNotes(notesWithoutDeletedItem);\n    };\n\n    const DeleteTag = (id, e) => {\n        e.preventDefault();\n        const notesCopy = [...notes];\n        const hashtagToDelete = e.target.value;\n        const indexOfItemWithTagToDelete = notes\n            .findIndex(item => item.id === id);\n        // filter out deleted tag\n        notesCopy[indexOfItemWithTagToDelete][\"tags\"] =\n            notes[indexOfItemWithTagToDelete][\"tags\"]\n                .filter(item => item !== hashtagToDelete);\n\n        setNotes(notesCopy);\n    };\n\n    const FilterNotes = (value) => {\n        setNotesBeforeFilter(notes);\n\n        const notesCopy = [...notes];\n        const arrOfFilteredValues = [];\n        const filteredData = [];\n        notesCopy.map(item => arrOfFilteredValues.push(item.tags.filter(item => item === value)));\n        for (let i = 0; i < notesCopy.length; i++) {\n            if (arrOfFilteredValues[i].length > 0) {\n                filteredData.push(notesCopy[i])\n            }\n        }\n\n        setIsFiltered(true);\n        setNotes(filteredData);\n    }\n\n    const ResetFilter = () => {\n        setNotes(notesBeforeFilter);\n        setIsFiltered(false);\n    }\n\n    useEffect(() => {\n        document.title = `Кол-во заметок: ${notes.length}`;\n    });\n\n    return (\n        <div className=\"app-container\">\n            <h1>Todo Application</h1>\n            <TodoListAddNote\n                onAdded={ AddNote }\n                isFiltered={ isFiltered }\n            />\n            <TagFilter\n                tags={ [...tags] }\n                isFiltered={ isFiltered }\n                onTagsFiltered={ FilterNotes }\n                onFilterReset={ ResetFilter }\n            />\n            <TodoList\n                notes={ notes }\n                isFiltered={ isFiltered }\n                onDeletedTag = { DeleteTag }\n                onDeleted={ DeleteNote }\n                onEdited={ EditNote }\n            />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport \"./style/style.css\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}